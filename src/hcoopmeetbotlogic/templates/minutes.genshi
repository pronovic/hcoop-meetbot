<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:py="http://genshi.edgewall.org/">
<head>
 <meta http-equiv="Content-type" content="text/html;charset=UTF-8"/>
 <title>${title}</title>
 <style type="text/css">
body {
    font-family: Helvetica, sans-serif;
    font-size:14px;
}

h1 {
    text-align: center;
}

a {
    color:navy;
    text-decoration: none;
    border-bottom:1px dotted navy;
}

a:hover {
    text-decoration:none;
    border-bottom: 0;
    color:#0000B9;
}

hr {
    border: 1px solid #ccc;
}

.details {
    font-size: 12px;
    font-weight:bold;
}

.event {
    font-weight: bold;
}

.topic {
    font-weight: bold;
}
 </style>
</head>
<body>
    <h1>${title}</h1>
    <span class="details">Meeting started by ${minutes.founder} at ${minutes.start_time} (<a href="${logpath}">full logs</a>).</span>

    <h3>Meeting Summary</h3>
    <ol>
        <li py:for="topic in minutes.topics">
            <span class="topic">${topic.name}</span>
            <span class="details">(<a href="${logpath}#${topic.id}">${topic.nick}</a>, ${topic.timestamp})</span>
            <ol type="a">
                <li py:for="event in topic.events">
                    <span class="event">${event.event_type}: </span>
                    <py:choose>
                        <py:when test="event.event_type == 'LINK'">
                            <span class="${event.event_type}"><a href="${event.payload}">${event.payload}</a></span>
                        </py:when>
                        <py:otherwise>
                            <span class="${event.event_type}">${event.payload}</span>
                        </py:otherwise>
                    </py:choose>
                    <span class="details">(<a href="${logpath}#${event.id}">${event.nick}</a>, ${event.timestamp})</span>
                </li>
            </ol>
        </li>
    </ol>

    <span class="details">Meeting ended at ${minutes.end_time} (<a href="${logpath}">full logs</a>).</span>

    <h3>Action items</h3>
    <ol>
        <li py:for="action in minutes.actions">${action}</li>
    </ol>

    <h3>Action items, by person</h3>
    <ol>
        <li py:for="attendee in minutes.attendees">
            <py:if test="attendee.actions">
                ${attendee.nick}
                <ol>
                    <li py:for="action in attendee.actions">${action}</li>
                </ol>
            </py:if>
        </li>
    </ol>

    <h3>People present (lines said)</h3>
    <ol>
        <li py:for="attendee in minutes.attendees">${attendee.nick} (${attendee.count})</li>
    </ol>

    <span class="details">Generated by <a href="${software.url}">HcoopMeetbot</a> v${software.version} (${software.date})</span>
</body>
</html>
